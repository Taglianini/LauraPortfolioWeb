---
// src/pages/categorias/pinturas.astro
import Layout from '../../layouts/Layout.astro'; // Ojo con los ../.. para subir carpetas
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Galeria from '../../components/Galeria.astro';

// TRUCO PRO: Carga todas las imágenes de la carpeta automáticamente
// Astro.glob devuelve un array con todas las imágenes que encuentre ahí.
const imagenesPinturas = await Astro.glob('../../assets/pinturas/*.{jpeg,jpg,png,webp}');

// Mapeamos los datos para pasarlos limpios a la galería
const datosGaleria = imagenesPinturas.map((img, index) => ({
  src: img.default, // 'default' es donde Astro guarda la imagen procesada
  alt: `Pintura número ${index + 1}`,
  titulo: `Obra Nº ${index + 1}` // O puedes dejarlo vacío si no quieres títulos
}));

const pageTitle = "Pinturas | Laura Porreca";
---

<Layout title={pageTitle}>
    <Header activeItem="categorias" />
    
    <main class="grow w-full bg-primary min-h-screen py-10 px-4">
        
        <h1 class="text-center text-white font-sans text-4xl md:text-5xl uppercase tracking-[0.2em] mb-12">
            Pinturas
        </h1>

        <div class="max-w-7xl mx-auto">
            <Galeria images={datosGaleria} />
        </div>

    </main>

    <Footer />
</Layout>